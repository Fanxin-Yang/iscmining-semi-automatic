import{a as h}from"./index.becf6c0c.js";import{_,o as a,c as o,a as s,t as c,w as f,v as p,F as m,r as b}from"./index.ebe42f74.js";const v={data(){return{info:void 0,status:null,selectedFile:void 0,dataSet:void 0,selectedFiles:FileList,availableDataSets:void 0,next:!1,projections:{}}},methods:{get_dataSets(){const l="http://localhost:5000/upload";h.get(l).then(t=>{this.availableDataSets=t.data}).catch(t=>{console.error(t)})},select_files(){this.selectedFiles=this.$refs.file.files,this.status=null},upload_file(l){const t="http://localhost:5000/upload";let r=new FormData;r.append("file",l);const d={"Content-Type":"multipart/form-data"};h.post(t,r,{headers:d}).then(e=>{console.log(e),this.get_dataSets(),this.status=e.status,this.info=e.statusText,this.selectedFile=this.selectedFiles[0].name}).catch(e=>{console.error(e),this.status=e.response.status,this.info=e.response.data})},submit_file(){this.status=-1,this.selectedFiles.length==0&&this.upload_file(this.$refs.file.files[0]);for(let l=0;l<this.selectedFiles.length;l++)this.upload_file(this.selectedFiles[l])},start_preprocess(){let l=this.selectedFile.substring(0,this.selectedFile.lastIndexOf("."));this.$router.replace(l)}},created(){this.get_dataSets()}},F={class:"row g-3"},g=s("h3",{class:"display-4"},"Dataset",-1),y=s("h6",null,"Please select an existing data set or upload a new one.",-1),k={class:"col-md-6"},S={class:"col-md-2"},x={key:0,class:"text-center"},D=s("div",{class:"spinner-border m-5",role:"status"},[s("span",{class:"visually-hidden"},"Loading...")],-1),w=[D],C={key:1,class:"alert alert-danger",role:"alert"},P={key:2,class:"alert alert-warning",role:"alert"},B={key:3,class:"alert alert-success",role:"alert"},L={key:4,class:"alert alert-light",role:"alert"},U={key:5,class:"alert alert-light",role:"alert"},V={class:"col-md-6"},T=s("option",{selected:"",disabled:"",value:""},"Select a data set",-1),j={class:"col-md-4"},E=["disabled"];function I(l,t,r,d,e,n){return a(),o("form",F,[g,y,s("div",k,[s("input",{class:"form-control",type:"file",multiple:"",id:"formFile",onChange:t[0]||(t[0]=(...i)=>n.select_files&&n.select_files(...i)),ref:"file"},null,544)]),s("div",S,[s("button",{type:"button",class:"btn btn-outline-primary",onClick:t[1]||(t[1]=(...i)=>n.submit_file&&n.submit_file(...i))}," Upload ")]),e.status==-1?(a(),o("div",x,w)):e.status==400?(a(),o("div",C,c(e.info),1)):e.status==406?(a(),o("div",P,c(e.info),1)):e.status==200||e.status==0?(a(),o("div",B,c(e.info),1)):this.selectedFiles?(a(),o("div",U," You have choose "+c(this.selectedFiles.length)+' files. Please click the "Upload" button to complete. ',1)):(a(),o("div",L," Please choose a .xes file and click the upload button. ")),s("div",V,[f(s("select",{"onUpdate:modelValue":t[2]||(t[2]=i=>e.selectedFile=i),class:"form-select"},[T,(a(!0),o(m,null,b(e.availableDataSets,(i,u)=>(a(),o("option",{key:u},c(i),1))),128))],512),[[p,e.selectedFile]])]),s("div",j,[s("button",{type:"button",class:"btn btn-primary",onClick:t[3]||(t[3]=(...i)=>n.start_preprocess&&n.start_preprocess(...i)),disabled:!e.selectedFile}," Start Pre-process ",8,E)]),s("h4",null,"Selected data set: "+c(e.selectedFile),1)])}var O=_(v,[["render",I]]);export{O as default};
