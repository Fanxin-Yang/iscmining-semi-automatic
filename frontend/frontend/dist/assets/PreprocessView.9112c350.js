import{_,o as r,c as n,a as e,F as d,b as p,w as m,v as f,r as v,t as i,d as b,e as j,f as g}from"./index.1548a765.js";const y={methods:{}},P=e("h3",null,"Process Model",-1),k=["src"];function S(s,c,u,h,t,l){return r(),n(d,null,[P,e("div",null,[e("img",{src:"http://localhost:5000/processmodels/"+this.$route.params.dataSet+".dot.png",class:"img-fluid"},null,8,k)])],64)}var x=_(y,[["render",S]]);const w={data(){return{attributes:{},selectedAtt:void 0,projections:{},selectedProjection:void 0,loading:!1}},methods:{get_attributes(){p.get("projection_transformation/"+this.$route.params.dataSet).then(s=>{this.attributes=s.data}).catch(s=>{console.error(s)})},transformation(){this.loading=!0,p.get("projection_transformation/"+this.$route.params.dataSet+"/"+this.selectedAtt).then(s=>{this.loading=!1,this.projections=s.data}).catch(s=>{console.error(s)})},start_discovery(){let s=this.$router.currentRoute.value.fullPath+"/"+this.selectedProjection.substring(0,this.selectedProjection.lastIndexOf("."));this.$router.push(s)}},created(){this.get_attributes()}},O=e("h3",null,"Projection & Transformation",-1),T={class:"row"},$={class:"col-md-6"},A=e("option",{selected:"",disabled:"",value:""}," Choose a event attribute (recommanded: org:resource) ",-1),C={class:"alert alert-light",role:"alert"},V={class:"col-md-4"},M=["disabled"],B={key:0,class:"text-center"},D=e("div",{class:"spinner-border m-5",role:"status"},[e("span",{class:"visually-hidden"},"Loading...")],-1),N=[D],F={key:1,class:"alert alert-warning",role:"alert"},L={key:2,class:"alert alert-success",role:"alert"},R={key:3,class:"row"},U={class:"col-md-6"},E=e("option",{selected:"",disabled:"",value:""},"Choose a file",-1),I={class:"alert alert-light",role:"alert"},q={class:"col-md-4"},z=["disabled"];function G(s,c,u,h,t,l){return r(),n(d,null,[O,e("div",T,[e("div",$,[m(e("select",{"onUpdate:modelValue":c[0]||(c[0]=o=>t.selectedAtt=o),class:"form-select"},[A,(r(!0),n(d,null,v(t.attributes,(o,a)=>(r(),n("option",{key:a},i(o),1))),128))],512),[[f,t.selectedAtt]]),e("div",C," Selected event attribute: "+i(t.selectedAtt),1)]),e("div",V,[e("button",{type:"button",class:"btn btn-outline-primary",onClick:c[1]||(c[1]=(...o)=>l.transformation&&l.transformation(...o)),disabled:!t.selectedAtt}," Projection & Transformation ",8,M)])]),t.loading&&Object.keys(t.projections).length==0?(r(),n("div",B,N)):Object.keys(t.projections).length>15?(r(),n("div",F," There are "+i(Object.keys(t.projections).length)+" files saved. Recommanded event attribute is org:resource. ",1)):Object.keys(t.projections).length>0?(r(),n("div",L," There are "+i(Object.keys(t.projections).length)+" files saved. ",1)):b("",!0),Object.keys(t.projections).length>0?(r(),n("div",R,[e("div",U,[m(e("select",{"onUpdate:modelValue":c[2]||(c[2]=o=>t.selectedProjection=o),class:"form-select"},[E,(r(!0),n(d,null,v(t.projections,(o,a)=>(r(),n("option",{key:a},i(a)+".csv ",1))),128))],512),[[f,t.selectedProjection]]),e("div",I," Selected projection: "+i(t.selectedProjection),1)]),e("div",q,[e("button",{type:"button",class:"btn btn-primary",onClick:c[3]||(c[3]=(...o)=>l.start_discovery&&l.start_discovery(...o)),disabled:!t.selectedProjection}," Start Discovery ",8,z)])])):b("",!0)],64)}var H=_(w,[["render",G]]);const J={components:{ProcessModel:x,ProjectionTransformation:H}},K={class:"row g-3"},Q={class:"display-4"},W={class:"col-md-12"},X={class:"col-md-12"};function Y(s,c,u,h,t,l){const o=j("ProcessModel"),a=j("ProjectionTransformation");return r(),n("form",K,[e("h3",Q,"Pre-process: "+i(this.$route.params.dataSet),1),e("div",W,[g(o)]),e("div",X,[g(a)])])}var ee=_(J,[["render",Y]]);export{ee as default};
